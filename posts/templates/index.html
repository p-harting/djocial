{% extends "base.html" %}

{% block content %}
{% if user.is_authenticated %}
<div class="post-form-container">
  <form method="post" action="{% url 'create_post' %}" class="post-form">
    {% csrf_token %}
    <div class="mb-3">
      <textarea id="postContent" name="content" class="form-control" rows="4" placeholder="What's new..." required></textarea>
    </div>
    <button type="submit" class="btn-primary">Submit</button>
  </form>
</div>
{% endif %}

<div id="post-list">
  {% include 'partials/post_list.html' %}
</div>

<div id="loading" style="display: none; text-align: center; padding: 20px;">
  <i class="fa-solid fa-spinner fa-spin" style="font-size: 24px;"></i>
  <p>Loading more posts...</p>
</div>

<div id="no-more-posts" style="display: none; text-align: center; padding: 20px;">
  <p>No more posts to load.</p>
</div>


{% endblock %}
